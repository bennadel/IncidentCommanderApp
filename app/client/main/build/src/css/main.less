
// ---
// THEME VARIABLES.
// ---

.less-theme-light() {

	--theme-text: #121210 ;
	--theme-surface: #ffffff ;

	--theme-accent: #e64980 ;

	--theme-mark-text: #121210 ;
	--theme-mark-surface: #ffe066 ;

	--theme-error-surface: #ffe3e3 ;
	--theme-error-border: #c92a2a ;
	--theme-error-text: #121210 ;

	--theme-success-surface: #e9fac8 ;
	--theme-success-border: #66a80f ;
	--theme-success-text: #121210 ;

	--theme-code-surface: #f1f3f5 ;
	--theme-code-text: #0d0f12 ;

	--theme-control-background: #ffffff ;
	--theme-control-border: #16191d ;
	--theme-control-text: #0d0f12 ;
	--theme-control-inset-shadow: inset 1px 1px 2px #dadada ;

	--theme-button-default-text: #0d0f12 ;
	--theme-button-default-surface: #f1f3f5 ;
	--theme-button-default-border: #7e8282 ;

	--theme-button-primary-text: #f2f4f6 ;
	--theme-button-primary-surface: #252521 ;
	--theme-button-primary-border: #121210 ;

	--theme-button-destructive-text: #fff5f5 ;
	--theme-button-destructive-surface: #f03e3e ;
	--theme-button-destructive-border: #e03131 ;

	--theme-button-cancel-text: #121210 ;
	--theme-button-cancel-surface: transparent ;
	--theme-button-cancel-border: #d1d6d8 ;
	--theme-button-cancel-border-hover: #121210 ;

	--theme-img-shadow: #e0e4e5 ;

	--theme-panel-border: #b1b6b9 ;

	--theme-rule-hard: #999999 ;
	--theme-rule-soft: #cccccc ;

	--theme-nav-text: var( --theme-text ) ;
	--theme-nav-surface: var( --theme-surface ) ;
	--theme-nav-surface-on: #f2f2f3 ;

	--select-carrot-image: url( 'data:image/svg+xml;utf8,<svg width="13" height="7" viewBox="0 0 13 7" xmlns="http://www.w3.org/2000/svg"><polygon stroke="none" fill="%230d0f12" fill-rule="evenodd" points="0 0 6.5 7 13 0"></polygon></svg>' ) ;

}

.less-theme-dark() {

	--theme-text: #93b8dc ;
	--theme-surface: #0d1117 ;

	--theme-accent: #e64980 ;

	--theme-mark-text: #121210 ;
	--theme-mark-surface: #ffe066 ;

	--theme-error-surface: #441010 ;
	--theme-error-border: #8b2424 ;
	--theme-error-text: #f98484 ;

	--theme-success-surface: #2f4407 ;
	--theme-success-border: #749a42 ;
	--theme-success-text: #d7fe92 ;

	--theme-code-surface: #011e3b ;
	--theme-code-text: #3780EF ;

	--theme-control-background: #0d1117 ;
	--theme-control-border: #253b56 ;
	--theme-control-text: #979562 ;
	--theme-control-inset-shadow: inset 1px 1px 2px #dadada22 ;

	--theme-button-default-text: #0d0f12 ;
	--theme-button-default-surface: #f1f3f5 ;
	--theme-button-default-border: #7e8282 ;

	--theme-button-primary-text: #f2f4f6 ;
	--theme-button-primary-surface: #004396 ;
	--theme-button-primary-border: #0052b8 ;

	--theme-button-destructive-text: #fff5f5 ;
	--theme-button-destructive-surface: #b21a1a ;
	--theme-button-destructive-border: #e03131 ;

	--theme-button-cancel-text: #93b8dc ;
	--theme-button-cancel-surface: transparent ;
	--theme-button-cancel-border: #383838 ;
	--theme-button-cancel-border-hover: #93b8dc ;

	--theme-img-shadow: #e0e4e5 ;

	--theme-panel-border: #37414d ;

	--theme-rule-hard: #999999 ;
	--theme-rule-soft: #37414d ;

	--theme-nav-text: var( --theme-text ) ;
	--theme-nav-surface: var( --theme-surface ) ;
	--theme-nav-surface-on: #472240 ;

	--select-carrot-image: url( 'data:image/svg+xml;utf8,<svg width="13" height="7" viewBox="0 0 13 7" xmlns="http://www.w3.org/2000/svg"><polygon stroke="none" fill="%23979562" fill-rule="evenodd" points="0 0 6.5 7 13 0"></polygon></svg>' ) ;

	img {
		opacity: 0.5 ;
		transition: opacity 500ms ease-in ;

		&:hover {
			opacity: 1.0 ;
		}
	}
}

:where( html ) {
	.less-theme-light() ;
}

:where( html[ data-theme = "dark" ] ) {
	.less-theme-dark() ;
}

@media ( prefers-color-scheme: dark ) {
	 :where( html ) {
		.less-theme-dark() ;
	 }
}

// ---
// LESS CSS Utilities.
// ---

.less-remove-inner-margins() {
	> *:first-child:where( h2, h3, h4, h5, h6, p, ul, ol, dl, fieldset ) {
		margin-top: 0 ;
	}

	> *:last-child:where( h2, h3, h4, h5, h6, p, ul, ol, dl, fieldset ) {
		margin-bottom: 0 ;
	}
}

// ---
// Base Styles.
// ---

html {
	box-sizing: border-box ;
	font-family: monospace ;
	font-size: 18px ;
	line-height: 1.5 ;
}

html *,
html *:before,
html *:after {
	box-sizing: inherit ;
}

body {
	background-color: var( --theme-surface ) ;
	color: var( --theme-text ) ;
	font-size: 1rem ;
	margin: 0 ;
	padding: 0 ;
}

article,
aside,
figcaption,
figure,
footer,
header,
main,
nav,
section {
	display: block ;
}

h1 {
	font-size: 2rem ;
	margin: 0 0 1.6rem ;
}

h2 {
	font-size: 1.6rem ;
	margin: 1.6rem 0 1.3rem ;
}

h3 {
	font-size: 1.3rem ;
	margin: 1.6rem 0 1.1rem ;
}

h4 {
	font-size: 1.1rem ;
	margin: 1.3rem 0 1.1rem ;
}

h5,
h6 {
	font-size: 1rem ;
	margin: 1rem 0 ;
}

p {
	margin: 1rem 0 ;
}

ul,
ol {
	margin-bottom: 1.2rem ;
	margin-top: 1.2rem ;
}

li {
	.less-remove-inner-margins() ;

	margin-bottom: 0.1rem ;
	margin-top: 0 ;

	&:last-child {
		margin-bottom: 0 ;
	}
}

dl {
	margin: 1.2rem 0 ;
}

dl > div {
	margin-bottom: 1rem ;

	&:last-child {
		margin-bottom: 0 ;
	}
}

dt {
	font-weight: bold ;
	margin: 0 0 0.5rem ;
}

dd {
	.less-remove-inner-margins() ;

	margin: 0 0 0 2.2rem ;
}

table {
	border-collapse: collapse ;
	border-spacing: 0 ;
	margin-bottom: 1.5rem ;
	margin-top: 1.5rem ;
}

th {
	.less-remove-inner-margins() ;

	font-size: 1rem ;
	font-weight: bold ;
	padding: 0.3rem 0.5rem ;
}

td {
	.less-remove-inner-margins() ;

	font-size: 1rem ;
	padding: 0.3rem 0.5rem ;
}

a {
	color: inherit ;
	cursor: pointer ;
}

mark {
	background-color: var( --theme-mark-surface ) ;
	color: var( --theme-mark-text ) ;
}

img {
	border: none ;
	display: block ;
	margin: 0 ;
	max-width: 100% ;
}

svg {
	display: block ;
	margin: 0 ;
	max-width: 100% ;
}

figure {
	margin: 1rem 0 ;
}

form {
	margin: 1.4rem 0 ;
	padding: 0 ;
}

input,
button,
select,
textarea {
	color: inherit ;
	font-family: inherit;
	font-size: inherit ;
	line-height: inherit ;
}

input,
button,
select,
textarea {
	padding: 0.4rem 0.7rem ;
	margin: 0 ;
}
button {
	padding: 0.4rem 0.9rem ;
}
select {
	padding: 0.5rem 0.7rem ;
}

button {
	cursor: pointer ;
}

code {
	background-color: var( --theme-code-surface ) ;
	color: var( --theme-code-text ) ;
}

pre code {
	background-color: transparent ;
}

*:focus-visible {
	outline: 2px solid var( --theme-accent ) ;
	outline-offset: 2px ;
}

// ---
// Utilities.
// ---

.u-no-margin-bottom {
	margin-bottom: 0 ;
}
.u-no-margin-top {
	margin-top: 0 ;
}

.u-no-margin-y {
	.u-no-margin-top() ;
	.u-no-margin-bottom() ;
}

.u-no-inner-margin-bottom {
	> *:last-child {
		margin-bottom: 0 ;
	}
}

.u-no-inner-margin-top {
	> *:first-child {
		margin-top: 0 ;
	}
}

.u-no-inner-margin-y {
	.u-no-inner-margin-top() ;
	.u-no-inner-margin-bottom() ;
}

ul.u-no-marker,
ol.u-no-marker {
	list-style-type: none ;
	margin-left: 0 ;
	padding: 0 ;

	> li {
		padding: 0 ;
	}
}

.u-break-word {
	overflow-wrap: anywhere ;
}

.u-breathing-room {
	> * {
		margin-bottom: 0.3rem ;
		margin-top: 0.3rem ;

		&:last-child {
			margin-bottom: 0 ;
		}
	}

	&.is-large > * {
		margin-bottom: 1rem ;
		margin-top: 1rem ;

		&:last-child {
			margin-bottom: 0 ;
		}
	}
}

.u-weaker {
	opacity: 0.5 ;
}

.u-hidden {
	display: none ;
}

// ---
// Core Styles.
// ---

.ui-emoji {
	font-family: arial, verdana, sans-serif ;
}

.ui-readable-width {
	max-width: 1000px ;
}

.ui-row {
	align-items: center ;
	display: flex ;
	gap: 12px ;

	&.is-top-aligned {
		align-items: flex-start ;
	}

	&__item {
		flex: 0 1 auto ;
	}
}

.ui-rule {
	border: none ;
	border-top: 1px solid var( --theme-rule-hard ) ;
	margin: 1.9rem 0 1.8rem ;
	padding: 0 ;

	&.is-soft {
		border-top: 1px dashed var( --theme-rule-soft ) ;
	}
}

// Borrowed from the "Inclusive Component" styles - this is for elements that need to be
// in the DOM for assistive technology, but should be hidden from sighted individuals (as
// it would be redundant with the existing visuals).
// --
// https://inclusive-components.design/tooltips-toggletips/
.ui-screen-reader {
	clip: rect( 0 0 0 0 ) ;
	clip-path: inset( 100% ) ;
	height: 0 ;
	overflow: hidden ;
	position: absolute ;
	white-space: nowrap ;
	width: 0 ;
}

// ---
// Form styles.
// ---

.ui-button {
	background-color: var( --theme-button-default-surface ) ;
	border: 1px solid var( --theme-button-default-border ) ;
	border-radius: 2px ;
	color: var( --theme-button-default-text ) ;
	display: block ;
	padding: 0.6rem 1.3rem 0.5rem ;

	&.is-plain {
		background-color: transparent ;
		border-color: transparent ;
		color: inherit ;
	}

	&.is-submit {
		background-color: var( --theme-button-primary-surface ) ;
		border-color: var( --theme-button-primary-border ) ;
		color: var( --theme-button-primary-text ) ;
	}

	&.is-destructive {
		background-color: var( --theme-button-destructive-surface ) ;
		border-color: var( --theme-button-destructive-border ) ;
		color: var( --theme-button-destructive-text ) ;
	}

	&.is-cancel {
		background-color: var( --theme-button-cancel-surface ) ;
		border-color: var( --theme-button-cancel-border ) ;
		color: var( --theme-button-cancel-text ) ;

		&:hover {
			border-color: var( --theme-button-cancel-border-hover ) ;
		}
	}

	&.is-text {
		background-color: transparent ;
		border: none ;
		border-radius: 0 ;
		color: inherit ;
		display: inline ;
		padding: 0 ;
		text-decoration: underline ;
	}
}

.ui-input {
	background-color: var( --theme-control-background ) ;
	border: 1px solid var( --theme-control-border ) ;
	border-radius: 2px ;
	box-shadow: var( --theme-control-inset-shadow ) ;
	color: var( --theme-control-text ) ;
	display: block ;
	padding: 0.6rem 0.7rem 0.5rem ;
	width: 100% ;

	&.is-small {
		max-width: 200px ;
	}

	&.is-medium {
		max-width: 400px ;
	}

	&.is-large {
		max-width: 600px ;
	}
}

.ui-file {
	cursor: pointer ;

	&::-webkit-file-upload-button,
	&::file-selector-button {
		background-color: var( --theme-button-default-surface ) ;
		border: 1px solid var( --theme-button-default-border ) ;
		border-radius: 2px ;
		color: var( --theme-button-default-text ) ;
		cursor: pointer ;
		margin-right: 2ch ;
		padding: 0.4rem 0.9rem ;
	}
}

.ui-radio {
		-webkit-appearance: none ;
	appearance: none ;
	background-color: var( --theme-control-background ) ;
	border: 1px solid var( --theme-control-border ) ;
	border-radius: 18px ;
	box-shadow: var( --theme-control-inset-shadow ) ;
	display: flex ;
	height: 18px ;
	margin: 0 ;
	padding: 0 ;
	width: 18px ;

	&:checked::after {
		background-color: var( --theme-accent ) ;
		border-radius: 8px ;
		content: "" ;
		height: 8px ;
		margin: auto ;
		width: 8px ;
	}
}

.ui-select {
		-webkit-appearance: none ;
	appearance: none ;
	background-color: var( --theme-control-background ) ;
	background-image: var( --select-carrot-image ) ;
	background-position-x: right 10px ;
	background-position-y: top 52% ;
	background-repeat: no-repeat ;
	border: 1px solid var( --theme-control-border ) ;
	border-radius: 2px ;
	color: var( --theme-control-text ) ;
	padding: 0.6rem 2rem 0.5rem 0.7rem ;
}

.ui-textarea {
	background-color: var( --theme-control-background ) ;
	border: 1px solid var( --theme-control-border ) ;
	border-radius: 2px ;
	box-shadow: var( --theme-control-inset-shadow ) ;
	color: var( --theme-control-text ) ;
	display: block ;
	height: 10rem ;
	padding: 0.6rem 0.7rem 0.5rem ;
	width: 100% ;
}

.ui-field {
	margin: 1.2rem 0 ;

	&__label {
		display: block ;
		font-weight: bold ;
		margin-bottom: 0.5rem ;

		&:where( label ) {
			cursor: pointer ;
		}
	}

	&__content {
		.less-remove-inner-margins() ;

		margin-left: 2.2rem ;
	}

	@media ( max-width: 600px ) {
		&__content {
			margin-left: 16px ;
		}
	}
}

.ui-fieldset {
	border: 1px solid var( --theme-rule-soft ) ;
	margin: 1rem 0 ;
	padding: 1rem 1.5rem ;

	> *:first-child,
	> legend + * {
		margin-top: 0 ;
	}

	> *:last-child {
		margin-bottom: 0 ;
	}
}

.ui-hint {
	font-size: 90% ;
	margin: 0.8rem 0 ;
}

.ui-legend {
	padding: 0px 0.8rem ;
}

.ui-option-card {
	cursor: pointer ;
	display: grid ;
	gap: 0.5rem 0.9rem ;
	grid-template-areas:
		"control label"
		". description"
	;
	grid-template-columns: auto 1fr ;
	margin: 1.2rem 0 ;

	&__control {
		align-self: center ;
		grid-area: control ;
	}

	&__label {
		align-self: center ;
		font-weight: bold ;
		grid-area: label ;
		margin: 0 ;
	}

	&__description {
		grid-area: description ;
		margin: 0 ;
	}
}

.ui-form-buttons {
	border-top: 1px solid var( --theme-rule-soft ) ;
	margin: 1.7rem 0 1rem 0 ;
	padding-top: 1.7rem ;
}
